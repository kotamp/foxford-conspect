<!doctype html>
<html><head><link rel="stylesheet" href="../page.css"><title>30. Многоугольники на плоскости</title></head><body><h1>30. Многоугольники на плоскости</h1>
<div class="page_content_main"><p>Часто в задачах вычислительной геометрии необходимо работать с многоугольниками. Многоугольники могут быть необязательно выпуклыми, но при этом, как правило, рассматриваются несамопересекающиеся многоугольники (т. е. граница многоугольника — ломаная без самопересечений). Типичные задачи, решаемые для многоугольников — нахождение площади многоугольника, проверка многоугольника на выпуклость, проверка принадлежности точки многоугольнику, построение выпуклой оболочки.</p>
<h2>Представление многоугольников в памяти</h2>
<p>Многоугольник представляет собой последовательность вершин, заданных в порядке обхода (если многоугольник невыпуклый, то просто множества вершин недостаточно, одно и то же множество вершин можно по-разному соединить ломаной линией). Если число вершин многоугольника равно <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.611ex" viewBox="0 -566.3 600.5 693.7" role="img" focusable="false" style="vertical-align: -0.296ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-6E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-1">n</script>, то пронумеруем вершины числами от <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.048ex" viewBox="0 -754.4 500.5 881.8" role="img" focusable="false" style="vertical-align: -0.296ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMAIN-30" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-2">0</script> до <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi><mo>&amp;#x2212;</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.398ex" height="2.194ex" viewBox="0 -754.4 2323.9 944.5" role="img" focusable="false" style="vertical-align: -0.442ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-6E" x="0" y="0"></use><use xlink:href="#MJMAIN-2212" x="822" y="0"></use><use xlink:href="#MJMAIN-31" x="1823" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mo>−</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-3">n-1</script> (чтобы сохранять индексацию, как в языке Питон) и рассмотрим многоугольник <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>0</mn></mrow></msub><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow></msub><mo>&amp;#x2026;</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.402ex" height="2.485ex" viewBox="0 -754.4 5770.2 1069.9" role="img" focusable="false" style="vertical-align: -0.733ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-30" x="908" y="-213"></use><g transform="translate(1096,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="908" y="-213"></use></g><use xlink:href="#MJMAIN-2026" x="2359" y="0"></use><g transform="translate(3698,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-2212" x="600" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="1379" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mn>0</mn></mrow></msub><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow></msub><mo>…</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-4">P_{0}P_{1}…P_{n-1}</script>. Многоугольник можно хранить в виде списка, каждый элемент которого является экземпляром класса Point или кортежем из двух чисел (x-координата и y-координата). Можно использовать два списка X и Y, для хранения X-координат и Y-координат точек. Далее в примерах этого занятия будет рассматриваться многоугольник, как список кортежей из двух координат.</p>
<p>Пример считывания многоугольника на языке C++:</p>
<div class="page_code_style">
<p>cin &gt;&gt; n;<br>vector &lt;Point&gt; P(n);<br>for (int i = 0; i &lt; n; ++i)<br>&nbsp; &nbsp; cin &gt;&gt; P[i];</p>
</div>
<p>Пример считывания многоугольника на языке Python:</p>
<div class="page_code_style">
<p>n = int(input())<br>P = []<br>for i in range(n):<br>&nbsp; &nbsp; P.append(tuple(map(float, input().split())))&nbsp;</p>
</div>
<p>Соответственно, стороны многоугольника — это отрезки (или вектора) <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>P</mi><mn>0</mn></msub><msub><mi>P</mi><mn>1</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.093ex" height="2.339ex" viewBox="0 -754.4 2192.8 1007.2" role="img" focusable="false" style="vertical-align: -0.587ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-30" x="908" y="-213"></use><g transform="translate(1096,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="908" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>P</mi><mn>0</mn></msub><msub><mi>P</mi><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-5">P_0P_1</script>, <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>P</mi><mn>1</mn></msub><msub><mi>P</mi><mn>2</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.093ex" height="2.339ex" viewBox="0 -754.4 2192.8 1007.2" role="img" focusable="false" style="vertical-align: -0.587ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="908" y="-213"></use><g transform="translate(1096,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-32" x="908" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>P</mi><mn>1</mn></msub><msub><mi>P</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-6">P_1P_2</script>, …, <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msub><msub><mi>P</mi><mn>0</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.358ex" height="2.485ex" viewBox="0 -754.4 3167.9 1069.9" role="img" focusable="false" style="vertical-align: -0.733ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-2212" x="600" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="1379" y="0"></use></g><g transform="translate(2071,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-30" x="908" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><msub><mi>P</mi><mn>0</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-7">P_{n-1}P_0</script>. Обратите внимание на «зацикливание» списка вершин при обходе сторон многоугольника: после вершины <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.811ex" height="2.485ex" viewBox="0 -754.4 2071.5 1069.9" role="img" focusable="false" style="vertical-align: -0.733ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-2212" x="600" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="1379" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-8">P_{n-1}</script> идет вершина <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>P</mi><mn>0</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.547ex" height="2.339ex" viewBox="0 -754.4 1096.4 1007.2" role="img" focusable="false" style="vertical-align: -0.587ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-30" x="908" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>P</mi><mn>0</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-9">P_0</script>, и это нужно учитывать при обходе всех сторон многоугольника. Есть несколько способов решить эту проблему, рассмотрим это на примере программы, вычисляющей периметр многоугольника.</p>
<p>1. Использование операции взятия остатка от деления на <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.611ex" viewBox="0 -566.3 600.5 693.7" role="img" focusable="false" style="vertical-align: -0.296ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-6E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-10">n</script> при обращении к вершине многоугольника по индексу. В этом случае если рассмотреть последнюю вершину номер <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi><mo>&amp;#x2212;</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.398ex" height="2.194ex" viewBox="0 -754.4 2323.9 944.5" role="img" focusable="false" style="vertical-align: -0.442ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-6E" x="0" y="0"></use><use xlink:href="#MJMAIN-2212" x="822" y="0"></use><use xlink:href="#MJMAIN-31" x="1823" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mo>−</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-11">n-1</script>, то следующая за ней вершина будет иметь номер <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.611ex" viewBox="0 -566.3 600.5 693.7" role="img" focusable="false" style="vertical-align: -0.296ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-6E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-12">n</script>, но если взять остаток от деления на <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.611ex" viewBox="0 -566.3 600.5 693.7" role="img" focusable="false" style="vertical-align: -0.296ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-6E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-13">n</script>, то получится 0, то есть начальная вершина многоугольника. Вот код программы (x и y — координаты вектора <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mover><mrow><msub><mi>P</mi><mi>i</mi></msub><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mo accent=&quot;false&quot;>&amp;#x00AF;</mo></mover></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.799ex" height="3.359ex" viewBox="0 -1130.6 2927.5 1446.1" role="img" focusable="false" style="vertical-align: -0.733ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(24,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="908" y="-213"></use><g transform="translate(986,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="1124" y="0"></use></g></g></g><g transform="translate(0,500)"><use transform="scale(0.707)" xlink:href="#MJMAIN-AF" x="-70" y="0"></use><g transform="translate(-200.52147075341918,0) scale(9.274535014194033,1)"><use transform="scale(0.707)" xlink:href="#MJMAIN-AF"></use></g><use transform="scale(0.707)" xlink:href="#MJMAIN-AF" x="3639" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mover><mrow><msub><mi>P</mi><mi>i</mi></msub><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mo accent="false">¯</mo></mover></math></span></span><script type="math/tex" id="MathJax-Element-14">\overline{P_iP_{i+1}}</script>).</p>
<p>Пример на языке C++</p>
<div class="page_code_style">
<p>double per = 0;<br>for (int i = 0; i &lt; n; ++i)<br>{<br>&nbsp; &nbsp; Vector a(P[i], P[(i + 1) % n]);<br>&nbsp; &nbsp; per += a.len();<br>}</p>
</div>
<p>Пример на языке Python</p>
<div class="page_code_style">
<p>per = 0<br>for i in range(n):<br>&nbsp; &nbsp; x = P[(i + 1) % n][0] - P[i][0]<br>&nbsp; &nbsp; y = P[(i + 1) % n][1] — P[i][1]<br>&nbsp; &nbsp; per += math.hypot(x, y)</p>
</div>
<p>2. Добавление начальной вершины в конец списка: продублируем начальную вершину, добавив её в конец списка еще раз, тогда в списке появится вершина с индексом n, совпадающая с вершиной с индексом 0. В этом случае не придется брать остаток от деления на n при переходе от последней вершине к первой:</p>
<p>Пример на языке C++</p>
<div class="page_code_style">
<p>P.push_back(P[0]);<br>double per = 0;<br>for (int i = 0; i &lt; n; ++i)<br>{<br>&nbsp; &nbsp; Vector a(P[i], P[i + 1]);<br>&nbsp; &nbsp; per += a.len();<br>}</p>
</div>
<p>Пример на языке Python</p>
<div class="page_code_style">
<p>P.append(P[0])<br>per = 0<br>for i in range(n):<br>&nbsp; &nbsp; x = P[i + 1][0] - P[i][0]<br>&nbsp; &nbsp; y = P[i + 1][1] — P[i][1]<br>&nbsp; &nbsp; per += math.hypot(x, y)</p>
</div>
<p>В некоторых алгоритмах, где нужно рассматривать пары соседних сторон (например, в алгоритме проверки многоугольника на выпуклость) может понадобиться добавлять в конец списка не одну, а две начальные вершины.</p>
<p>3. Использование отрицательных индексов для обращения к элементам относительно конца списка. В языке Питон такое зацикливание реализовано практически автоматически, если использовать индекс -1 для обращения к последнему элементу (который при зацикливании идет перед первым). Обратите внимание, что теперь мы рассматриваем вектора <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mover><mrow><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msub><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub></mrow><mo accent=&quot;false&quot;>&amp;#x00AF;</mo></mover></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.799ex" height="3.359ex" viewBox="0 -1130.6 2927.5 1446.1" role="img" focusable="false" style="vertical-align: -0.733ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(24,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-2212" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="1124" y="0"></use></g><g transform="translate(1891,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="908" y="-213"></use></g></g><g transform="translate(0,500)"><use transform="scale(0.707)" xlink:href="#MJMAIN-AF" x="-70" y="0"></use><g transform="translate(-200.52147075341918,0) scale(9.274535014194033,1)"><use transform="scale(0.707)" xlink:href="#MJMAIN-AF"></use></g><use transform="scale(0.707)" xlink:href="#MJMAIN-AF" x="3639" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mover><mrow><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub></mrow><mo accent="false">¯</mo></mover></math></span></span><script type="math/tex" id="MathJax-Element-15">\overline{P_{i-1}P_{i}}</script> для <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mo>=</mo><mn>0..</mn><mi>n</mi><mo>&amp;#x2212;</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.755ex" height="2.194ex" viewBox="0 -754.4 5061 944.5" role="img" focusable="false" style="vertical-align: -0.442ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-69" x="0" y="0"></use><use xlink:href="#MJMAIN-3D" x="623" y="0"></use><g transform="translate(1679,0)"><use xlink:href="#MJMAIN-30"></use><use xlink:href="#MJMAIN-2E" x="500" y="0"></use><use xlink:href="#MJMAIN-2E" x="779" y="0"></use></g><use xlink:href="#MJMATHI-6E" x="2737" y="0"></use><use xlink:href="#MJMAIN-2212" x="3559" y="0"></use><use xlink:href="#MJMAIN-31" x="4560" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>=</mo><mn>0..</mn><mi>n</mi><mo>−</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-16">i=0..n-1</script>.</p>
<div class="page_code_style">
<p>per = 0<br>for i in range(n):<br>&nbsp; &nbsp; x = P[i][0] — P[i - 1][0]<br>&nbsp; &nbsp; y = P[i][1] — P[i - 1][1]<br>&nbsp; &nbsp; per += math.hypot(x, y)</p>
</div></div><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script></body></html>