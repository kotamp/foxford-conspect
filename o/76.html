<!doctype html>
<html><head><link rel="stylesheet" href="../page.css"><title>30. Проверка многоугольника на выпуклость</title></head><body><h1>30. Проверка многоугольника на выпуклость</h1>
<div class="page_content_main"><p>Определение выпуклости многоугольника можно дать двумя разными способами. Во-первых, многоугольник является выпуклым, если он целиком лежит по одну сторону от любой своей стороны (от прямой, являющейся продолжением стороны). Во-вторых, многоугольник будет выпуклым, если любой отрезок, соединяющий любые две точки многоугольника, целиком содержится в этом многоугольнике.</p>
<p>Можно сделать «наивный» алгоритм проверки многоугольника на простоту — переберем все стороны многоугольника, для каждой стороны переберем все остальные вершины многоугольника и проверим, что они все лежат по одну сторону от прямой, содержащей сторону многоугольника. Сложность такого алгоритма будет <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.032ex" height="3.068ex" viewBox="0 -942.5 2596.9 1320.7" role="img" focusable="false" style="vertical-align: -0.878ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-4F" x="0" y="0"></use><use xlink:href="#MJMAIN-28" x="763" y="0"></use><g transform="translate(1153,0)"><use xlink:href="#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-32" x="849" y="513"></use></g><use xlink:href="#MJMAIN-29" x="2207" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-25">O(n^2)</script>.</p>
<p>Есть более быстрый алгоритм: если двигаться по многоугольнику по обходу, поворачивая в вершинах многоугольника, то для выпуклого многоугольника поворот всегда будет в одном и том же направлении: всегда по часовой стрелке или всегда против часовой стрелки.</p>
<p>Поворот в вершине <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>P</mi><mi>i</mi></msub></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.292ex" height="2.339ex" viewBox="0 -754.4 986.8 1007.2" role="img" focusable="false" style="vertical-align: -0.587ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="908" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>P</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-26">P_i</script> определяется векторами <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mover><mrow><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msub><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub></mrow><mo accent=&quot;false&quot;>&amp;#x00AF;</mo></mover></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.799ex" height="3.359ex" viewBox="0 -1130.6 2927.5 1446.1" role="img" focusable="false" style="vertical-align: -0.733ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(24,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-2212" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="1124" y="0"></use></g><g transform="translate(1891,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="908" y="-213"></use></g></g><g transform="translate(0,500)"><use transform="scale(0.707)" xlink:href="#MJMAIN-AF" x="-70" y="0"></use><g transform="translate(-200.52147075341918,0) scale(9.274535014194033,1)"><use transform="scale(0.707)" xlink:href="#MJMAIN-AF"></use></g><use transform="scale(0.707)" xlink:href="#MJMAIN-AF" x="3639" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mover><mrow><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub></mrow><mo accent="false">¯</mo></mover></math></span></span><script type="math/tex" id="MathJax-Element-27">\overline{P_{i-1}P_{i}}</script> и <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mover><mrow><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mo accent=&quot;false&quot;>&amp;#x00AF;</mo></mover></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.799ex" height="3.359ex" viewBox="0 -1130.6 2927.5 1446.1" role="img" focusable="false" style="vertical-align: -0.733ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(24,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="908" y="-213"></use><g transform="translate(986,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="1124" y="0"></use></g></g></g><g transform="translate(0,500)"><use transform="scale(0.707)" xlink:href="#MJMAIN-AF" x="-70" y="0"></use><g transform="translate(-200.52147075341918,0) scale(9.274535014194033,1)"><use transform="scale(0.707)" xlink:href="#MJMAIN-AF"></use></g><use transform="scale(0.707)" xlink:href="#MJMAIN-AF" x="3639" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mover><mrow><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mo accent="false">¯</mo></mover></math></span></span><script type="math/tex" id="MathJax-Element-28">\overline{P_{i}P_{i+1}}</script>. Для того, чтобы определить направление поворота, необходимо вычислить векторное произведение <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><mover><mrow><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msub><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub></mrow><mo accent=&quot;false&quot;>&amp;#x00AF;</mo></mover><mo>,</mo><mover><mrow><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mo accent=&quot;false&quot;>&amp;#x00AF;</mo></mover><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.926ex" height="3.504ex" viewBox="0 -1130.6 6857.2 1508.8" role="img" focusable="false" style="vertical-align: -0.878ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMAIN-5B" x="0" y="0"></use><g transform="translate(278,0)"><g transform="translate(24,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-2212" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="1124" y="0"></use></g><g transform="translate(1891,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="908" y="-213"></use></g></g><g transform="translate(0,500)"><use transform="scale(0.707)" xlink:href="#MJMAIN-AF" x="-70" y="0"></use><g transform="translate(-200.52147075341918,0) scale(9.274535014194033,1)"><use transform="scale(0.707)" xlink:href="#MJMAIN-AF"></use></g><use transform="scale(0.707)" xlink:href="#MJMAIN-AF" x="3639" y="0"></use></g></g><use xlink:href="#MJMAIN-2C" x="3205" y="0"></use><g transform="translate(3651,0)"><g transform="translate(24,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="908" y="-213"></use><g transform="translate(986,0)"><use xlink:href="#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="#MJMAIN-31" x="1124" y="0"></use></g></g></g><g transform="translate(0,500)"><use transform="scale(0.707)" xlink:href="#MJMAIN-AF" x="-70" y="0"></use><g transform="translate(-200.52147075341918,0) scale(9.274535014194033,1)"><use transform="scale(0.707)" xlink:href="#MJMAIN-AF"></use></g><use transform="scale(0.707)" xlink:href="#MJMAIN-AF" x="3639" y="0"></use></g></g><use xlink:href="#MJMAIN-5D" x="6578" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mover><mrow><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub></mrow><mo accent="false">¯</mo></mover><mo>,</mo><mover><mrow><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mo accent="false">¯</mo></mover><mo stretchy="false">]</mo></math></span></span><script type="math/tex" id="MathJax-Element-29">[\overline{P_{i-1}P_{i}}, \overline{P_{i}P_{i+1}}]</script>. При повороте в положительном направлении оно будет больше 0, в отрицательном направлении - меньше 0. Многоугольник будет выпуклым, если данные векторые произведения во всех вершинах будут одного знака. Такой алгоритм проверки многоугольника на выпуклость будет иметь сложность <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>n</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.977ex" height="2.776ex" viewBox="0 -817.1 2143 1195.3" role="img" focusable="false" style="vertical-align: -0.878ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#MJMATHI-4F" x="0" y="0"></use><use xlink:href="#MJMAIN-28" x="763" y="0"></use><use xlink:href="#MJMATHI-6E" x="1153" y="0"></use><use xlink:href="#MJMAIN-29" x="1753" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-30">O(n)</script>.</p></div><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script></body></html>