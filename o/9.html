<!doctype html>
<html><head><link rel="stylesheet" href="../page.css"><title>3. Вывод в языке C. Функция printf.</title></head><body><h1>3. Вывод в языке C. Функция printf.</h1>
<div class="page_content_main"><h1>Функция printf</h1>
<p>Для вывода данных в языке C используется функция <span class="page_code_style">printf</span>. Для использования этой функции необходимо подключить заголовочный файл <span class="page_code_style">stdio.h</span>:</p>
<p><span class="page_code_style">#include&lt;stdio.h&gt;</span></p>
<p>Если вы пишете на C++, то лучше подключать файл <span class="page_code_style">cstdio</span>:</p>
<p><span class="page_code_style">#include&lt;cstdio&gt;</span></p>
<p>Функция printf получает один или более аргументов. Первый аргумент - строка, которую нужно вывести. Например, если нужно просто вывести какой-то текст, то можно написать так:</p>
<p><span class="page_code_style">printf("Hello, world\n");</span></p>
<p>Символ '\n' в конце вывода означает символ перехода на новую строку.</p>
<p>Если нужно вывести значения какой-то переменной, то в форматной строке вместо этой переменной указывается специальное выражение, начинающееся с символа "%". Например, для вывода целого числа типа int указывается строка "%d". Сами переменные указываются после форматной строки, следующими параметрами, передаваемыми функции <span class="page_code_style">printf</span>.</p>
<p>Например, чтобы напечатать значения переменных a и b типа <span class="page_code_style">int</span> через пробел можно использовать следующую функцию:</p>
<p><span class="page_code_style">printf("%d %d", a, b);</span></p><h1>Выводимые типы</h1>
<p>Перечислим разные типы данных, которые можно выводить при помощи функции <span class="page_code_style">printf</span> и соответствующие им форматные строки.</p>
<table>
<tbody>
<tr>
<td><strong>%d<br></strong>или<br>%<strong>i</strong></td>
<td>Выводится целое число (значение типа int) в десятичной системе счисления. Для вывода значений типа short int используется %hd, long int - %ld, long long int - %lld.</td>
</tr>
<tr>
<td><strong>%u</strong></td>
<td>Выводится беззнаковое целое число (значение типа unsigned int) в десятичной системе счисления. Для вывода значений типа unsigned short используется %hu, unsigned long - %lu, unsigned long long&nbsp; - %llu.</td>
</tr>
<tr>
<td><strong>%e</strong></td>
<td>Выводится значение типа double в экспоненциальной форме, например, число 123.456 будет выведено в виде 1.234560e+002. Для вывода значения типа double также используется %le, для вывода long double - %Le (в Windows может не работать).</td>
</tr>
<tr>
<td><strong>%f</strong></td>
<td>Выводится значение типа double с фиксированной точкой. Например, число 1e20 будет выведено, как 10000000000.000000. Для вывода значения типа double также используется %lf, для вывода long double - %Lf (в Windows может не работать).</td>
</tr>
<tr>
<td><strong>%g</strong></td>
<td>Значение типа double выводится либо с фиксированной точкой, либо с плавающей точкой, в зависимости от величины числа. Аналогично используется %lg для double и %Lg для long double.</td>
</tr>
<tr>
<td><strong>%c</strong></td>
<td>Выводится один символ (значение типа char).</td>
</tr>
<tr>
<td><strong>s</strong></td>
<td>выводится содержимое C-строки. В качестве параметра передается указатель char * или массив символов char[].</td>
</tr>
<tr>
<td><strong>%%</strong></td>
<td>Вывести один символ %, никакого значения переменной при этом не передается.</td>
</tr>
</tbody>
</table>
<p>&nbsp;Значения целых чисел также можно выводить в восьмеричной или шестнадцатеричной системах счисления.</p>
<p>Обратите внимание, переменную типа float вывести при помощи функции printf нельзя (можно привести значение типа float к типу double и вывести его).</p>
<p>В операционной системе Windows не рекомендуется использовать тип long double.</p>
<p><br>&nbsp;</p><h2>Модификаторы длины</h2>
<p>Эти модификаторы пишутся между знаком % и символом, обозначающим тип. Например, <strong>%lld</strong>.<strong>&nbsp;</strong>Эти модификаторы используются для того, чтобы вывести значения типов <span class="page_code_style">short int,</span> <span class="page_code_style">long int</span>, <span class="page_code_style">long double</span> и т.д. и уже упоминались раньше.</p>
<table>
<tbody>
<tr>
<td><strong>hh</strong></td>
<td>Используется для значения типа char вместе с символами d, i, u для вывода в виде десятичного числа, соотвветствующего его ASCII-коду.</td>
</tr>
<tr>
<td><strong>h</strong></td>
<td>Используется для значения типа short int или unsigned short int вместе с модификаторами d, i, u.</td>
</tr>
<tr>
<td><strong>l</strong></td>
<td>
<p>Используется для значения типа long int или unsigned long int вместе с модификаторами d, i, u.</p>
<p>Используется для значения типа double вместе с модификаторами e, f, g.</p>
</td>
</tr>
<tr>
<td><strong>ll</strong></td>
<td>Используется для значения типа long long int или unsigned long long int вместе с модификаторами d, i, u.</td>
</tr>
<tr>
<td><strong>L</strong></td>
<td>Используется для значения типа long double вместе с модификаторами e, f, g. Не следует использовать в Windows.</td>
</tr>
</tbody>
</table><h1>Ширина поля вывода</h1>
<p>После знака % можно задать ширину поля для вывода в виде целого числа (не начинающегося с нуля). В этом случае число вывод этого числа будет занимать указанное число символов. Если в числе меньше цифр, чем заданная ширина поля вывода, то перед числом (слева) выводятся пробелы. Если же в числе больше цифр, чем ширина поля, то выводятся все цифры (то есть выводится больше цифр, чем вся ширина поля, поле расширяется, чтобы вывести все символы).</p>
<p>Если перед шириной поля поставить цифру 0, например, "%010d", то число будет дополняться слева не пробелами, а нулями. Это удобно, например, для вывода времени в формате hh:mm, что можно сделать, например, так:</p>
<p><span class="page_code_style">printf("%02d:%02d", h, m);</span></p>
<p>Если перед шириной поля поставить знак "-", то число будет дополняться пробелами не слева, а справа (сначала выводится число, потом - дополнительные пробелы до заполнения всего поля).</p>
<p>Также вместо ширины поля вывода можно указать символ "*" (звездочка), тогда значение ширины поля вывода нужно передать в качестве дополнительного параметра. Например, запись:</p>
<p><span class="page_code_style">printf("%*d", n, a);</span></p>
<p>означает вывести значение переменной a используя поле шириной n символов.</p><h1>Точность вывода действительных чисел</h1>
<p>По умолчанию действительные числа выводятся с 6 знаками после точки, при этом числа в экспоненциальной форме выводятся в виде одной цифры, точки и 6 цифр после точки (и показателя степени).</p>
<p>Для изменения точности вывода действительных чисел в форматной строке указывается символ точки ('.') и после нее число - количество выводимых знаков после точки. Например, так:</p>
<p><span class="page_code_style">printf("%.10lf", x);</span></p><h1>Вывод целых чисел со знаком +/-</h1>
<p>Если при выводе целого числа в форматной строке задать символ "+", то положительные числа будут выводиться с обязательным знаком "+" перед ними.</p>
<p>Большинство перечисленных выше параметров комбинируются друг с другом. Например, такая строка:</p>
<div class="page_code_style">
<p>printf("%+020lld", n);</p>
</div>
<p>означает вывод числа типа long long, со знаком "+" или "-" перед числом, с добавлением нулей таким образом, что общее число выводимых символов будет не меньше 20.</p></div><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script></body></html>